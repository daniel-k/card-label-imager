<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Card Label Imager</title>
        <link
            rel="icon"
            type="image/svg+xml"
            href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Crect x='2' y='5' width='20' height='14' rx='2' fill='%23E46F3A'/%3E%3Cpath d='M6 9h12' stroke='%23F7F1E6' stroke-width='2'/%3E%3Cpath d='M6 13h8' stroke='%23F7F1E6' stroke-width='2'/%3E%3C/svg%3E"
        />
    </head>
    <body>
        <div class="bg-shape"></div>
        <header class="hero">
            <p class="eyebrow">Card label imager</p>
            <h1>Compose print-ready card labels.</h1>
            <p class="lede">Creates printable A4 PDF sheets in a few clicks.</p>
        </header>

        <main class="layout">
            <section class="card-panel">
                <div class="card-wrap">
                    <canvas
                        id="cardCanvas"
                        width="856"
                        height="539"
                        aria-label="Card preview canvas"
                    ></canvas>
                    <div class="card-guide">
                        Drag or use the arrow keys to position. Use the scale
                        slider or + and - to zoom. The inner outline shows the
                        trim line.
                    </div>
                </div>

                <div class="actions">
                    <button id="addToPage" class="primary">Add to page</button>
                    <button id="resetView" class="ghost">Reset view</button>
                    <button id="clearPage" class="ghost">Clear page</button>
                </div>

                <div class="status" id="status">
                    Upload, paste, or load an image URL to begin.
                </div>
                <div class="progress" id="pdfProgress" aria-hidden="true">
                    <div class="progress-track">
                        <div class="progress-bar" id="pdfProgressBar"></div>
                    </div>
                    <div class="progress-meta" id="pdfProgressMeta">
                        Preparing PDF...
                    </div>
                </div>

                <div class="page-preview" id="pagePreview">
                    <div class="placeholder">No cards on the sheet yet.</div>
                </div>
                <button id="downloadPdf">Download PDF</button>
                <div class="setup-actions">
                    <p class="hint">
                        Save or restore the full sheet (cards, bleed, trim) to
                        pick up later or share between browsers.
                    </p>
                    <div class="setup-buttons">
                        <button id="downloadSetup" class="ghost">
                            Download setup
                        </button>
                        <button id="importSetup" class="ghost">
                            Import setup
                        </button>
                        <input
                            type="file"
                            id="importSetupInput"
                            accept="application/json"
                            hidden
                        />
                    </div>
                </div>
            </section>

            <aside class="controls">
                <div class="control-block">
                    <label for="imageInput">Upload image</label>
                    <input type="file" id="imageInput" accept="image/*" />
                    <p class="hint">
                        Tip: paste an image with Ctrl+V or Cmd+V anywhere on the
                        page.
                    </p>
                </div>

                <div class="control-block">
                    <label for="urlInput">Load from URL</label>
                    <div class="url-row">
                        <input
                            type="url"
                            id="urlInput"
                            placeholder="https://example.com/image.jpg"
                        />
                        <button id="loadUrl" class="ghost">Load</button>
                    </div>
                </div>

                <div class="control-block">
                    <div class="control-row">
                        <label for="scaleRange">Scale</label>
                        <span class="pill" id="scaleReadout">100%</span>
                    </div>
                    <input
                        type="range"
                        id="scaleRange"
                        min="0.5"
                        max="3"
                        step="0.01"
                        value="1"
                    />
                </div>

                <div class="control-block">
                    <label for="oversizeInput">Oversize per edge (mm)</label>
                    <input
                        type="number"
                        id="oversizeInput"
                        min="0"
                        max="5"
                        step="0.1"
                        value="1"
                    />
                    <p class="hint">
                        Adds a bleed area around the card so you can trim
                        cleanly.
                    </p>
                </div>

                <div class="control-block">
                    <label for="toggleTrimLine">Trim line in PDF</label>
                    <button
                        id="toggleTrimLine"
                        class="ghost"
                        type="button"
                        aria-pressed="false"
                    >
                        Trim line in PDF: Off
                    </button>
                    <p class="hint">
                        Applies to cards added after you toggle it.
                    </p>
                </div>

                <div class="control-block">
                    <h2>Layout</h2>
                    <ul class="layout-meta">
                        <li>Format: A4 (210 × 297 mm)</li>
                        <li>Card size: ID-1 (85.6 × 53.98 mm)</li>
                        <li>Oversize: <span id="oversizeMeta">1 mm</span></li>
                        <li>Printed label: <span id="labelMeta"></span></li>
                        <li>
                            Trim line in PDF:
                            <span id="trimLineMeta">Off</span>
                        </li>
                        <li>Grid: 2 columns × 4 rows</li>
                    </ul>
                </div>
            </aside>
        </main>

        <script type="module" src="./main.js"></script>
    </body>
</html>
